{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, onMounted, onUnmounted } from 'vue';\nexport default {\n  __name: 'ClickSpark',\n  props: {\n    sparkColor: {\n      type: String,\n      default: '#fff'\n    },\n    sparkSize: {\n      type: Number,\n      default: 10\n    },\n    sparkRadius: {\n      type: Number,\n      default: 15\n    },\n    sparkCount: {\n      type: Number,\n      default: 8\n    },\n    duration: {\n      type: Number,\n      default: 400\n    },\n    easing: {\n      type: String,\n      default: 'ease-out'\n    },\n    extraScale: {\n      type: Number,\n      default: 1.0\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable no-undef */\n    const props = __props;\n    const canvasRef = ref(null);\n    const sparks = ref([]); // Using simplified array, not ref of ref\n    const startTime = ref(null);\n    let animationId = null;\n    let resizeTimeout = null;\n    let resizeObserver = null;\n    const easeFunc = t => {\n      switch (props.easing) {\n        case 'linear':\n          return t;\n        case 'ease-in':\n          return t * t;\n        case 'ease-in-out':\n          return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n        default:\n          return t * (2 - t);\n      }\n    };\n    const draw = timestamp => {\n      const canvas = canvasRef.value;\n      if (!canvas) return;\n      const ctx = canvas.getContext('2d');\n      if (!startTime.value) {\n        startTime.value = timestamp;\n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      sparks.value = sparks.value.filter(spark => {\n        const elapsed = timestamp - spark.startTime;\n        if (elapsed >= props.duration) {\n          return false;\n        }\n        const progress = elapsed / props.duration;\n        const eased = easeFunc(progress);\n        const distance = eased * props.sparkRadius * props.extraScale;\n        const lineLength = props.sparkSize * (1 - eased);\n        const x1 = spark.x + distance * Math.cos(spark.angle);\n        const y1 = spark.y + distance * Math.sin(spark.angle);\n        const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\n        const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\n        ctx.strokeStyle = props.sparkColor;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        return true;\n      });\n      animationId = requestAnimationFrame(draw);\n    };\n    const resizeCanvas = () => {\n      const canvas = canvasRef.value;\n      if (!canvas) return;\n      const parent = canvas.parentElement;\n      if (!parent) return;\n      const {\n        width,\n        height\n      } = parent.getBoundingClientRect();\n      if (canvas.width !== width || canvas.height !== height) {\n        canvas.width = width;\n        canvas.height = height;\n      }\n    };\n    const handleResize = () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(resizeCanvas, 100);\n    };\n    const handleClick = e => {\n      const canvas = canvasRef.value;\n      if (!canvas) return;\n      const rect = canvas.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      const now = performance.now();\n      const newSparks = Array.from({\n        length: props.sparkCount\n      }, (_, i) => ({\n        x,\n        y,\n        angle: 2 * Math.PI * i / props.sparkCount,\n        startTime: now\n      }));\n      sparks.value.push(...newSparks);\n    };\n    onMounted(() => {\n      const canvas = canvasRef.value;\n      if (canvas) {\n        const parent = canvas.parentElement;\n        if (parent) {\n          resizeObserver = new ResizeObserver(handleResize);\n          resizeObserver.observe(parent);\n          resizeCanvas();\n        }\n      }\n      animationId = requestAnimationFrame(draw);\n    });\n    onUnmounted(() => {\n      if (animationId) cancelAnimationFrame(animationId);\n      if (resizeObserver) resizeObserver.disconnect();\n      clearTimeout(resizeTimeout);\n    });\n    const __returned__ = {\n      props,\n      canvasRef,\n      sparks,\n      startTime,\n      get animationId() {\n        return animationId;\n      },\n      set animationId(v) {\n        animationId = v;\n      },\n      get resizeTimeout() {\n        return resizeTimeout;\n      },\n      set resizeTimeout(v) {\n        resizeTimeout = v;\n      },\n      get resizeObserver() {\n        return resizeObserver;\n      },\n      set resizeObserver(v) {\n        resizeObserver = v;\n      },\n      easeFunc,\n      draw,\n      resizeCanvas,\n      handleResize,\n      handleClick,\n      ref,\n      onMounted,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","props","__props","canvasRef","sparks","startTime","animationId","resizeTimeout","resizeObserver","easeFunc","t","easing","draw","timestamp","canvas","value","ctx","getContext","clearRect","width","height","filter","spark","elapsed","duration","progress","eased","distance","sparkRadius","extraScale","lineLength","sparkSize","x1","x","Math","cos","angle","y1","y","sin","x2","y2","strokeStyle","sparkColor","lineWidth","beginPath","moveTo","lineTo","stroke","requestAnimationFrame","resizeCanvas","parent","parentElement","getBoundingClientRect","handleResize","clearTimeout","setTimeout","handleClick","e","rect","clientX","left","clientY","top","now","performance","newSparks","Array","from","length","sparkCount","_","i","PI","push","ResizeObserver","observe","cancelAnimationFrame","disconnect"],"sources":["C:/Users/saine/OneDrive/Documents/PresentAgent/presentagent/src/components/ClickSpark.vue"],"sourcesContent":["<template>\r\n  <div \r\n    @click=\"handleClick\" \r\n    style=\"position: relative; width: 100%; height: 100%;\"\r\n  >\r\n    <canvas\r\n      ref=\"canvasRef\"\r\n      style=\"\r\n        width: 100%;\r\n        height: 100%;\r\n        display: block;\r\n        user-select: none;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        pointer-events: none;\r\n      \"\r\n    />\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* eslint-disable no-undef */\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\n\r\nconst props = defineProps({\r\n  sparkColor: {\r\n    type: String,\r\n    default: '#fff'\r\n  },\r\n  sparkSize: {\r\n    type: Number,\r\n    default: 10\r\n  },\r\n  sparkRadius: {\r\n    type: Number,\r\n    default: 15\r\n  },\r\n  sparkCount: {\r\n    type: Number,\r\n    default: 8\r\n  },\r\n  duration: {\r\n    type: Number,\r\n    default: 400\r\n  },\r\n  easing: {\r\n    type: String,\r\n    default: 'ease-out'\r\n  },\r\n  extraScale: {\r\n    type: Number,\r\n    default: 1.0\r\n  }\r\n});\r\n\r\nconst canvasRef = ref(null);\r\nconst sparks = ref([]); // Using simplified array, not ref of ref\r\nconst startTime = ref(null);\r\nlet animationId = null;\r\nlet resizeTimeout = null;\r\nlet resizeObserver = null;\r\n\r\nconst easeFunc = (t) => {\r\n  switch (props.easing) {\r\n    case 'linear':\r\n      return t;\r\n    case 'ease-in':\r\n      return t * t;\r\n    case 'ease-in-out':\r\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    default:\r\n      return t * (2 - t);\r\n  }\r\n};\r\n\r\nconst draw = (timestamp) => {\r\n  const canvas = canvasRef.value;\r\n  if (!canvas) return;\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  if (!startTime.value) {\r\n    startTime.value = timestamp;\r\n  }\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  sparks.value = sparks.value.filter(spark => {\r\n    const elapsed = timestamp - spark.startTime;\r\n    if (elapsed >= props.duration) {\r\n      return false;\r\n    }\r\n\r\n    const progress = elapsed / props.duration;\r\n    const eased = easeFunc(progress);\r\n\r\n    const distance = eased * props.sparkRadius * props.extraScale;\r\n    const lineLength = props.sparkSize * (1 - eased);\r\n\r\n    const x1 = spark.x + distance * Math.cos(spark.angle);\r\n    const y1 = spark.y + distance * Math.sin(spark.angle);\r\n    const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\r\n    const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\r\n\r\n    ctx.strokeStyle = props.sparkColor;\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(x1, y1);\r\n    ctx.lineTo(x2, y2);\r\n    ctx.stroke();\r\n\r\n    return true;\r\n  });\r\n\r\n  animationId = requestAnimationFrame(draw);\r\n};\r\n\r\nconst resizeCanvas = () => {\r\n  const canvas = canvasRef.value;\r\n  if (!canvas) return;\r\n  const parent = canvas.parentElement;\r\n  if (!parent) return;\r\n\r\n  const { width, height } = parent.getBoundingClientRect();\r\n  if (canvas.width !== width || canvas.height !== height) {\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n  }\r\n};\r\n\r\nconst handleResize = () => {\r\n  clearTimeout(resizeTimeout);\r\n  resizeTimeout = setTimeout(resizeCanvas, 100);\r\n};\r\n\r\nconst handleClick = (e) => {\r\n  const canvas = canvasRef.value;\r\n  if (!canvas) return;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const x = e.clientX - rect.left;\r\n  const y = e.clientY - rect.top;\r\n\r\n  const now = performance.now();\r\n  const newSparks = Array.from({ length: props.sparkCount }, (_, i) => ({\r\n    x,\r\n    y,\r\n    angle: (2 * Math.PI * i) / props.sparkCount,\r\n    startTime: now\r\n  }));\r\n\r\n  sparks.value.push(...newSparks);\r\n};\r\n\r\nonMounted(() => {\r\n  const canvas = canvasRef.value;\r\n  if (canvas) {\r\n    const parent = canvas.parentElement;\r\n    if (parent) {\r\n       resizeObserver = new ResizeObserver(handleResize);\r\n       resizeObserver.observe(parent);\r\n       resizeCanvas();\r\n    }\r\n  }\r\n\r\n  animationId = requestAnimationFrame(draw);\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (animationId) cancelAnimationFrame(animationId);\r\n  if (resizeObserver) resizeObserver.disconnect();\r\n  clearTimeout(resizeTimeout);\r\n});\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}