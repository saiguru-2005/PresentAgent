{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  ref: \"canvasRef\",\n  style: {\n    \"width\": \"100%\",\n    \"height\": \"100%\",\n    \"display\": \"block\",\n    \"user-select\": \"none\",\n    \"position\": \"absolute\",\n    \"top\": \"0\",\n    \"left\": \"0\",\n    \"pointer-events\": \"none\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    onClick: $setup.handleClick,\n    style: {\n      \"position\": \"relative\",\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }\n  }, [_createElementVNode(\"canvas\", _hoisted_1, null, 512 /* NEED_PATCH */), _renderSlot(_ctx.$slots, \"default\")]);\n}","map":{"version":3,"names":["ref","style","_createElementBlock","onClick","$setup","handleClick","_createElementVNode","_hoisted_1","_renderSlot","_ctx","$slots"],"sources":["C:\\Users\\saine\\OneDrive\\Documents\\PresentAgent\\presentagent\\src\\components\\ClickSpark.vue"],"sourcesContent":["<template>\r\n  <div \r\n    @click=\"handleClick\" \r\n    style=\"position: relative; width: 100%; height: 100%;\"\r\n  >\r\n    <canvas\r\n      ref=\"canvasRef\"\r\n      style=\"\r\n        width: 100%;\r\n        height: 100%;\r\n        display: block;\r\n        user-select: none;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        pointer-events: none;\r\n      \"\r\n    />\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* eslint-disable no-undef */\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\n\r\nconst props = defineProps({\r\n  sparkColor: {\r\n    type: String,\r\n    default: '#fff'\r\n  },\r\n  sparkSize: {\r\n    type: Number,\r\n    default: 10\r\n  },\r\n  sparkRadius: {\r\n    type: Number,\r\n    default: 15\r\n  },\r\n  sparkCount: {\r\n    type: Number,\r\n    default: 8\r\n  },\r\n  duration: {\r\n    type: Number,\r\n    default: 400\r\n  },\r\n  easing: {\r\n    type: String,\r\n    default: 'ease-out'\r\n  },\r\n  extraScale: {\r\n    type: Number,\r\n    default: 1.0\r\n  }\r\n});\r\n\r\nconst canvasRef = ref(null);\r\nconst sparks = ref([]); // Using simplified array, not ref of ref\r\nconst startTime = ref(null);\r\nlet animationId = null;\r\nlet resizeTimeout = null;\r\nlet resizeObserver = null;\r\n\r\nconst easeFunc = (t) => {\r\n  switch (props.easing) {\r\n    case 'linear':\r\n      return t;\r\n    case 'ease-in':\r\n      return t * t;\r\n    case 'ease-in-out':\r\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    default:\r\n      return t * (2 - t);\r\n  }\r\n};\r\n\r\nconst draw = (timestamp) => {\r\n  const canvas = canvasRef.current || canvasRef.value;\r\n  if (!canvas) return;\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  if (!startTime.value) {\r\n    startTime.value = timestamp;\r\n  }\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  sparks.value = sparks.value.filter(spark => {\r\n    const elapsed = timestamp - spark.startTime;\r\n    if (elapsed >= props.duration) {\r\n      return false;\r\n    }\r\n\r\n    const progress = elapsed / props.duration;\r\n    const eased = easeFunc(progress);\r\n\r\n    const distance = eased * props.sparkRadius * props.extraScale;\r\n    const lineLength = props.sparkSize * (1 - eased);\r\n\r\n    const x1 = spark.x + distance * Math.cos(spark.angle);\r\n    const y1 = spark.y + distance * Math.sin(spark.angle);\r\n    const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\r\n    const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\r\n\r\n    ctx.strokeStyle = props.sparkColor;\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(x1, y1);\r\n    ctx.lineTo(x2, y2);\r\n    ctx.stroke();\r\n\r\n    return true;\r\n  });\r\n\r\n  animationId = requestAnimationFrame(draw);\r\n};\r\n\r\nconst resizeCanvas = () => {\r\n  const canvas = canvasRef.value;\r\n  if (!canvas) return;\r\n  const parent = canvas.parentElement;\r\n  if (!parent) return;\r\n\r\n  const { width, height } = parent.getBoundingClientRect();\r\n  if (canvas.width !== width || canvas.height !== height) {\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n  }\r\n};\r\n\r\nconst handleResize = () => {\r\n  clearTimeout(resizeTimeout);\r\n  resizeTimeout = setTimeout(resizeCanvas, 100);\r\n};\r\n\r\nconst handleClick = (e) => {\r\n  const canvas = canvasRef.value;\r\n  if (!canvas) return;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const x = e.clientX - rect.left;\r\n  const y = e.clientY - rect.top;\r\n\r\n  const now = performance.now();\r\n  const newSparks = Array.from({ length: props.sparkCount }, (_, i) => ({\r\n    x,\r\n    y,\r\n    angle: (2 * Math.PI * i) / props.sparkCount,\r\n    startTime: now\r\n  }));\r\n\r\n  sparks.value.push(...newSparks);\r\n};\r\n\r\nonMounted(() => {\r\n  const canvas = canvasRef.value;\r\n  if (canvas) {\r\n    const parent = canvas.parentElement;\r\n    if (parent) {\r\n       resizeObserver = new ResizeObserver(handleResize);\r\n       resizeObserver.observe(parent);\r\n       resizeCanvas();\r\n    }\r\n  }\r\n\r\n  animationId = requestAnimationFrame(draw);\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (animationId) cancelAnimationFrame(animationId);\r\n  if (resizeObserver) resizeObserver.disconnect();\r\n  clearTimeout(resizeTimeout);\r\n});\r\n</script>\r\n"],"mappings":";;EAMMA,GAAG,EAAC,WAAW;EACfC,KASC,EATD;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;;;uBANJC,mBAAA,CAkBM;IAjBHC,OAAK,EAAEC,MAAA,CAAAC,WAAW;IACnBJ,KAAsD,EAAtD;MAAA;MAAA;MAAA;IAAA;MAEAK,mBAAA,CAYE,UAZFC,UAYE,+BACFC,WAAA,CAAaC,IAAA,CAAAC,MAAA,a","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}